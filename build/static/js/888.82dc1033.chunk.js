(self.webpackChunkdalilimob_dashboard=self.webpackChunkdalilimob_dashboard||[]).push([[888],{2865:function(e,l,a){"use strict";a.d(l,{Z:function(){return v}});a(2791);var t=a(3359),i=a(8357),n=a(4671),s=a(5987),d=a(1413),r=a(3329),o=function(e,l){if("search"==e.typeField){var a=l.row;if(a=e.in?a[e.in]:a,e.where)return(a=a&&a.filter((function(l){return Object.keys(e.where).forEach((function(l){if(a[l]==e.where[l])return!1})),!0})))&&a[0]&&a[0][e.field]?a[0][e.field]:""}return""},c=function(e){var l=e.structure,a=e.params;return(0,r.jsx)("div",{children:l&&l.fields&&l.fields.map((function(e,l){return(0,r.jsx)("div",{children:(0,r.jsx)("span",{children:o(e,a)})},l)}))})},f=a(4942),u=a(3504),m=a(6871),p=a(1822),h=function(e,l){var a={};return l&&Object.keys(l).map((function(t){a[t]=(0,p.u)(e,l[t])})),a},x=function(e){var l=e.structure,a=e.params,t=(0,m.TH)();return(0,r.jsx)("div",{className:"composedLinedContainer",children:l&&l.fields&&l.fields.map((function(e){var l;return"actionButton"==e.type?(0,r.jsx)(u.rU,{to:t.pathname?t.pathname:"",state:(l={},(0,f.Z)(l,e.field,(0,p.u)(a.row,e.field)),(0,f.Z)(l,"for",e.for),l),children:(0,r.jsx)("button",{children:(0,r.jsx)("i",{className:e.class})})}):"linkButton"==e.type?(0,r.jsx)(u.rU,{to:"".concat(e.link,"/").concat((0,p.u)(a.row,e.field)),state:h(a.row,e.state),children:(0,r.jsx)("button",{children:(0,r.jsx)("i",{className:e.class})})}):void 0}))})},y=a(5287),_=["field"],b={composedTopBottom:c,composedLined:x,date:function(e){var l=e.structure,a=e.params;return(0,r.jsx)(r.Fragment,{children:(0,y.s)((0,p.u)(a.row,l.field))})}},g=function(e,l){return(e&&e.map((function(e,a){var t="";if(e.headerName.map((function(e){t+="/"+l(e)})),t=t.slice(1),"string"==typeof e.field)return(0,d.Z)((0,d.Z)({},e),{},{headerName:t});var i=b[e.component],n=(e.field,(0,s.Z)(e,_));return(0,d.Z)((0,d.Z)({renderCell:function(l){return(0,r.jsx)(i,{structure:e.field,params:l})},field:a},n),{},{headerName:t})}))).filter((function(e){return void 0!=e}))};var v=function(e){var l=e.structure,a=(e.row,e.data),s=(e.direct,e.dataKey),d=e.pageChanged,o=(e.dataCode,(0,n.$)("common").t),c=g(l.columns,o);return(0,r.jsx)("div",{className:"datatable",children:(0,r.jsx)(t._,{localeText:i.S.components.MuiDataGrid.defaultProps.localeText,headerClassName:"header-class",paginationMode:"server",rows:a[s],columns:c,pageSize:9,rowCount:a.pages,getRowId:function(e){return e[l.keyId]},onPageChange:function(e){d(e+1)},checkboxSelection:!0,disableSelectionOnClick:!0})})}},1751:function(e,l,a){"use strict";var t=a(1413),i=a(885),n=a(2791),s=a(9476),d=a(6871),r=a(4671),o=a(7308),c=a(9334),f=a(9680),u=a(6435),m=a(3101),p=a(1670),h=a(2294),x=a(2407),y=a(1798),_=a(3592),b=a(1241),g=a(5697),v=a(1822),j=(a(5657),a(3329)),w=function e(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0;if(i){var d=l&&l.form_field_type;!d||"SELECT"!==d.value&&"COMPLEXSELECT"!==d.value?a[3]={type:"none"}:a[3]={type:"select",label:"options",creatable:!0,field:"field_options",name:"field_options",isMulti:!0,placeholder:"enter your options",xl:6,id:"field_options"}}return a.map((function(a){return"none"==a.type?null:"title"==a.type?(0,j.jsxs)(s.JX,{md:12,className:"d-flex gap-3 align-items-center mb-3 ",children:[(0,j.jsx)("p",{className:"title_details",children:a.label}),(0,j.jsx)("p",{className:"divider mx-4"})]}):a.type?"imageInput"==a.type?(0,j.jsx)(s.JX,{xl:a.xl,children:(0,j.jsx)(c.Z,{src:(0,v.u)(l,a.field),name:a.name})}):"input"==a.type?(0,j.jsx)(s.JX,{xl:a.xl,children:(0,j.jsx)(f.Z,{label:a.label,value:(0,v.u)(l,a.field),name:a.name,field:a.field,placeholder:a.placeholder,className:a.className,type:a.typeInput,id:"id_form_".concat(a.id),changed:t})}):"textarea"==a.type?(0,j.jsx)(s.JX,{xl:a.xl,children:(0,j.jsx)(u.Z,{label:a.label,value:(0,v.u)(l,a.field),name:a.name,field:a.field,placeholder:a.placeholder,className:a.className,id:"id_form_".concat(a.id),changed:t})}):"address"==a.type?(0,j.jsx)(s.JX,{xl:a.xl,children:(0,j.jsx)(m.Z,{id:a.id,value:(0,v.u)(l,a.field),field:a.field,label:a.label,name:a.name,changed:t})}):"gps"==a.type?(0,j.jsx)(s.JX,{xl:a.xl,children:(0,j.jsx)(p.Z,{id:a.id,value:(0,v.u)(l,a.field),field:a.field,label:a.label,name:a.name,changed:t})}):"button"==a.type?(0,j.jsxs)(s.JX,{xl:a.xl,children:[n?(0,j.jsx)("div",{children:"loading "}):null,(0,j.jsx)(h.Z,{className:a.className,text:a.text})]}):"switch"==a.type?(0,j.jsx)(s.JX,{xl:a.xl,children:(0,j.jsx)(o.Z,{id:a.id,value:(0,v.u)(l,a.field),checkedOn:a.checkedOn,on:a.on,off:a.off,label:a.label,name:a.name,field:a.field,changed:t})}):"select"==a.type?(0,j.jsx)(s.JX,{xl:a.xl,className:a.className,children:"store"==a.typeSelect?(0,j.jsx)(_.Z,{id:a.id,value:(0,v.u)(l,a.field),field:a.field,field_deleted:a.field_deleted,options:a.options,label:a.label,name:a.name,isMulti:a.isMulti,creatable:a.creatable,changed:t}):(0,j.jsx)(x.Z,{id:a.id,value:(0,v.u)(l,a.field),options:a.options,field:a.field,field_deleted:a.field_deleted,label:a.label,name:a.name,creatable:a.creatable,isMulti:a.isMulti,changed:t})}):"select_complex"==a.type?(0,j.jsx)(s.JX,{xl:a.xl,className:a.className+" row align-items-center",children:(0,j.jsx)(y.Z,{id:a.id,value:(0,v.u)(l,a.field),field:a.field,options:a.options,label:a.label,name:a.name,isMulti:a.isMulti,creatable:a.creatable,changed:t})}):"map"==a.type?(0,j.jsx)(s.JX,{xl:a.xl,children:(0,j.jsx)(b.Z,{typeMap:a.typeMap,lat:(0,v.u)(l,a.field_lat),lng:(0,v.u)(l,a.field_lng),radius:(0,v.u)(l,a.field_radius),field_radius:a.field_radius,field_lat:a.field_lat,field_lng:a.field_lng,changed:t})}):void 0:(0,j.jsx)(s.JX,{xl:a.xl,children:(0,j.jsx)(s.X2,{className:a.className,children:e(l,a.fields)})})}))};l.Z=function(e){var l=e.structure,a=e.submit,o=void 0===a?function(){}:a,c=e.restricted,f=e.loading,u=(0,r.$)("common").t,m=((0,d.TH)(),(0,n.useState)({})),p=(0,i.Z)(m,2),h=p[0],x=p[1];(0,n.useEffect)((function(){console.log("data query 3 ",h)}),[h]);return(0,j.jsxs)("div",{className:"form ".concat(l.className),children:[(0,j.jsx)("h4",{className:"title",children:u(l.title)}),(0,j.jsx)(s.l0,{onSubmit:function(e){e.preventDefault(),o(h)},children:(0,j.jsx)(s.X2,{gap:2,className:"justify-content-between",children:f?(0,j.jsx)(g.Z,{}):w(h,l.fields,x,(function(e,l){x((0,t.Z)((0,t.Z)({},h),(0,v.p)(l,e)))}),c,f)})})]})}},3918:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return y}});var t=a(885),i=a(2791),n=a(6871),s=a(9434),d=(a(9731),a(8058)),r=a(6475),o=a(2865),c=a(5697),f=(a(6696),a(1751),a(9476)),u=a(3329),m=function(e){var l=e.searching,a=void 0===l?function(){}:l,n=e.filter,s=(0,i.useState)(""),d=(0,t.Z)(s,2),r=d[0],o=d[1];return(0,u.jsx)("div",{className:"searchBar",children:(0,u.jsxs)(f.X2,{className:"justify-content-between align-items-center bg-white p-4 rounded shadow-sm",children:[(0,u.jsx)(f.JX,{md:4,className:"py-4",children:(0,u.jsx)("p",{children:n||"mixte"})}),(0,u.jsxs)(f.JX,{md:4,className:"d-flex",children:[(0,u.jsx)(f.II,{placeholder:"rechercher  !!",value:r,onChange:function(e){o(e.target.value)}}),(0,u.jsx)(f.zx,{onClick:function(){a(r)},className:"btn--primary",children:(0,u.jsx)("i",{className:"las la-search"})})]})]})})},p=(a(1218),a(3879)),h=a(1696),x=a(8697),y=function(){var e=(0,i.useState)(""),l=(0,t.Z)(e,2),a=(l[0],l[1],(0,i.useState)(1)),f=(0,t.Z)(a,2),y=f[0],_=f[1],b=(0,n.UO)().filter,g=(0,s.v9)((function(e){return e.nav.opened})),v=(0,s.I0)(),j=(0,n.TH)(),w=(0,s.v9)((function(e){return e.form})),N=(0,s.v9)((function(e){return e.form.deleted})),Z=(0,s.v9)((function(e){return e.nav.search}));(0,i.useEffect)((function(){v((0,h.cI)({}))}),[]),(0,i.useEffect)((function(){if(j.state&&"delete"==j.state.for){var e=j.state.form_id;v((0,h.iO)({form_id:e}))}else v((0,h.VT)({filter:b,search:Z,page:y,limit:9}))}),[j,Z,y]),(0,i.useEffect)((function(){console.log("deleted"),v((0,h.VT)({filter:b,search:Z,page:y,limit:9}))}),[N]);return w.loading?(0,u.jsx)(c.Z,{}):(0,u.jsxs)("div",{className:"list",children:[(0,u.jsx)(d.Z,{}),(0,u.jsxs)("div",{className:"listContainer ".concat(g?"nav-opened":"nav-closed"),children:[(0,u.jsx)(r.Z,{}),(0,u.jsx)(m,{filter:b,searching:function(e){v((0,x.qP)({search:e}))}}),(0,u.jsx)(o.Z,{data:w,structure:p.Z.document,dataKey:"forms",pageChanged:_})]})]})}},6696:function(e,l){"use strict";l.Z={login:{type:"row",fields:[{type:"input",label:"username",name:"admin_username",typeInput:"text",className:"rounded-login mb-2",field:"admin_username",placeholder:"enter your username",xl:12,id:"admin_username"},{type:"input",label:"password",typeInput:"password",field:"admin_password",name:"admin_password",className:"rounded-login m-2",placeholder:"enter your password",xl:12,id:"admin_password"},{xl:12,className:"px-3 my-4",fields:[{type:"button",className:"w-100 btn--primary",text:"save changes"}]}]},region:{type:"row",className:"w-100 bg-white  shadow  rounded p-3",fields:[{type:"input",label:"region name",name:"region_name",typeInput:"text",field:"region_name",placeholder:"enter your region name",xl:6,id:"region_name"},{type:"select",label:"wilayas",typeSelect:"store",field:"wilayas",field_deleted:"deleted_wilayas",name:"wilayas",isMulti:!0,className:"z-index-10000",options:{key:"wilayas",where:"wilaya",label:"wilaya_name",value:"wilaya_id"},placeholder:"enter your wilayas",xl:6,id:"wilayas"},{type:"map",label:"map",typeMap:"range",field_lat:"lat",field_lng:"lng",field_radius:"radius",field:"map",name:"map",xl:12,id:"map"},{xl:12,className:"px-3 my-4",fields:[{type:"button",className:"w-100 btn--primary",text:"save changes"}]}]},form_field:{type:"row",className:"w-100 bg-white  shadow  rounded p-3",fields:[{type:"input",label:"field name",name:"form_field_name",typeInput:"text",field:"form_field_name",placeholder:"enter the name",xl:6,id:"field_name"},{type:"select",label:"group name",typeSelect:"store",creatable:!0,field:"field_group",name:"field_group",options:{key:"field_groups",where:"field_group",value:"field_group_id",label:"field_group_name"},placeholder:"enter your wilayas",xl:6,id:"groups"},{type:"select",label:"type field",field:"form_field_type",name:"form_field_type",options:{options:[{value:"NUMBER",label:"number"},{value:"BOOLEAN",label:"true/false"},{value:"SELECT",label:"select"},{value:"COMPLEXSELECT",label:"select complex"},{value:"ADDRESS",label:"address"},{value:"GPS",label:"coordonn\xe9e gps"},{value:"STRING",label:"text"},{value:"TEXT",label:"textarea"},{value:"DATE",label:"date"}]},placeholder:"enter your wilayas",xl:6,id:"type_fields"},{type:"none"},{xl:12,className:"px-3 my-4",fields:[{type:"button",className:"w-100 btn--primary",text:"save changes"}]}]},nav:{type:"row",className:"w-100 bg-white  shadow  rounded p-3",fields:[{type:"select",label:"filter navigation",typeSelect:"store",field:"form_fields_nav",name:"wilayas",className:"z-index-10000",options:{key:"form_fields_nav",where:"form_field",label:"form_field_name",value:"form_field_id"},placeholder:"enter your form field",xl:6,id:"form_fields"},{xl:12,className:"px-3 my-4",fields:[{type:"button",className:"w-100 btn--primary",text:"save changes"}]}]}}},3879:function(e,l){"use strict";l.Z={document:{keyFetchAll:"forms",keyId:"form_id",columns:[{field:"form_id",headerName:["ID"]},{field:"farm_name",headerName:["nom de la ferme"],width:180},{field:{field:"date"},headerName:["date de consultation"],component:"date",width:180},{field:{fields:[{type:"linkButton",link:"/document",field:"form_id",class:"las la-desktop btn-show-more"},{type:"actionButton",field:"form_id",for:"delete",class:"las la-trash-alt btn-delete"}]},component:"composedLined",sortable:!1,headerName:["actions"]}]},form_field:{keyFetchAll:"forms",keyId:"form_field_id",columns:[{field:"form_field_id",headerName:["ID"]},{field:"form_field_name",headerName:["nom de champs"]},{field:"form_field_type",headerName:["type de champs"]},{field:{fields:[{type:"linkButton",link:"/form_field",field:"form_field_id",class:"las la-desktop btn-show-more"},{type:"actionButton",field:"form_field_id",for:"delete",class:"las la-trash-alt btn-delete"}]},component:"composedLined",sortable:!1,headerName:["actions"]}]}}},5287:function(e,l){l.s=function(e){console.log("date is ",e);return new Date(e).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}},1218:function(){}}]);
//# sourceMappingURL=888.82dc1033.chunk.js.map